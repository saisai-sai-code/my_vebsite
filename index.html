<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ðŸ’– Happy Birthday My Love ðŸ’–</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <style>
:root {
  --accent1: #ff5f6d;
  --accent2: #ffc371;
  --white-glow: rgba(255,255,255,0.84);
}
html,body{ height:100%; margin:0; padding:0; }
body {
  font-family: 'Poppins',sans-serif;
  text-align:center;
  color:#fff;
  background: linear-gradient(120deg,#ff9a9e,#fad0c4,#fbc2eb,#a18cd1 80%);
  background-size: 400% 400%;
  min-height:100vh;
  overflow:hidden;
  animation: gradientShift 20s ease infinite;
}
@keyframes gradientShift {
  0%{ background-position:0% 50% }
  50%{ background-position:100% 50% }
  100%{ background-position:0% 50% }
}

/* Medium font sizes */
h1, h2 {
  font-family:'Great Vibes',cursive;
  text-shadow:0 0 22px #ffc4df,0 0 60px #ff69b4;
  opacity:0;
  transform:translateY(60px) scale(.95) skewY(3deg);
}
h1 { font-size: clamp(2rem,4vw,3rem); margin:30px 0 10px; }
h2 { font-size: clamp(1.1rem,2.2vw,1.7rem); color:#cffcff; margin-top:0; }

.cake-wrap { width:180px; margin:30px auto 18px; display:block; position:relative; will-change:transform; }
@media(max-width:540px){
  .cake-wrap{ width:120px; }
  .buttons button{ padding:9px 13px; font-size:1.02rem; }
  #message-box{ padding:0 10px; }
}

/* Moderated intro overlay font size */
#intro {
  position:fixed; top:0; left:0; width:100vw; height:100vh;
  display:flex; align-items:center; justify-content:center; flex-direction:column;
  background:radial-gradient(circle at 32% 24%, #ff66b2, #ff0066 44%, #99004d 96%);
  z-index:999; opacity:1;
  animation: introFade 1.4s forwards 4.9s;
}
#intro h1{
  font-family:'Great Vibes',cursive; font-size:clamp(1.6rem,4.8vw,2.2rem); color:#fff;
  text-shadow: 0 0 54px #fff, 0 0 70px #ff3399, 0 0 12px #ffc4df;
  margin:0; padding:0; transform:scale(.9);
  opacity:0; animation:introPop 1.9s ease forwards .15s;
}
@keyframes introPop {
  0%{ transform:scale(.1) rotate(0); opacity:0 }
  52%{ transform:scale(1.13) rotate(9deg); opacity:.8 }
  100%{ transform:scale(1) rotate(-6deg); opacity:1 }
}
@keyframes introFade{
  to{ opacity:0; display:none; pointer-events:none; }
}

.buttons {
  margin-top:22px; display:flex; justify-content:center; gap:14px; flex-wrap:wrap; opacity:0;
}
.buttons button {
  padding:13px 30px;
  background:linear-gradient(60deg,var(--accent1),var(--accent2));
  border:none; color:#fff; font-size:1.15rem;
  border-radius:35px; cursor:pointer;
  box-shadow:0 4px 22px rgba(0,0,0,.14);
  font-weight:500;
  transform:scale(.7);
  opacity:0;
  transition:.18s;
}
.buttons button:hover {
  letter-spacing:2px; box-shadow:0 9px 30px rgba(0,0,0,.18);
  filter:brightness(1.12);
}

#message-box {
  margin:34px auto 18px; min-height:100px; max-width:800px;
  font-size:1.26rem; color:#fff; text-shadow:0 0 12px rgba(255,255,255,.7);
  letter-spacing: 0.8px; line-height:1.65;
  position:relative; opacity:0; transform:scale(0.85);
}

.typed .msg-gradient {
  display:inline-block;
  background:linear-gradient(90deg,#ffe8fc,#fffbe8 80%,#e6fff8 100%);
  color:transparent; -webkit-background-clip: text; background-clip:text;
  text-shadow: 0 0 18px #fff9, 0 0 19px #ffb6c1b0;
}

.petal, .sparkle, .blast, .balloon, .heart {
  position:absolute; pointer-events:none; z-index:2; will-change:transform,opacity;
}

.petal {
  width:22px; height:33px; border-radius:50% 50% 55% 55%/60% 60% 46% 44%;
  opacity:.96; filter:drop-shadow(0 6px 16px #ffb6c14c); animation:fall 11s linear infinite;
}
@keyframes fall {
  0%{ transform:translateY(-12vh) rotate(0deg) }
  100%{ transform:translateY(115vh) rotate(360deg) }
}
.sparkle {
  width:8px; height:8px; background:white; border-radius:50%; opacity:.86;
  animation:sparkleAnim 4s linear infinite;
}
@keyframes sparkleAnim {
  0%,100%{ opacity:0; transform:scale(0) }
  50%{ opacity:1; transform:scale(1.7) }
}
.blast {
  width:14px; height:14px; border-radius:50%;
  animation:blastAnim 1.65s ease forwards;
  box-shadow:0 2px 8px rgba(0,0,0,0.18);
}
@keyframes blastAnim {
  0% { transform:translate(0,0) scale(1); opacity:1; }
  100% { transform:translate(var(--x,0), var(--y,0)) scale(.92) rotate(270deg); opacity: 0; }
}
.heart {
  font-size:22px; animation:heartFloat 7s cubic-bezier(.58,.01,.03,.9) infinite;
  opacity: 0.97; text-shadow:0 4px 10px #d8012b2c;
}
@keyframes heartFloat {
  0%{ transform:translateY(8vh) scale(0.9) rotate(-12deg); opacity:0 }
  24%{ opacity:1 }
  60%{ transform:translateY(-16vh) scale(1.06) rotate(12deg); opacity:1 }
  100%{ transform:translateY(-52vh) scale(0.88); opacity:0 }
}
.balloon {
  width:38px; height:54px; border-radius:52% 48% 47% 45%;
  box-shadow:0 8px 22px #ffe4e4cc;
  animation:balloonFloat linear infinite;
}
.balloon::after {
  content:""; position:absolute; left:50%; bottom:-24px;
  width:2px; height:20px; background:rgba(255,255,255,0.7);
  transform: translateX(-50%);
}
@keyframes balloonFloat{
  0%{ transform:translateY(0) rotate(-7deg) }
  50%{ transform:translateY(-22vh) rotate(7deg) }
  100%{ transform:translateY(-38vh) rotate(-7deg) }
}

  </style>
</head>
<body>
<!-- INTRO OVERLAY -->
<div id="intro">
  <h1 id="introText">ðŸŽ‰ Luv u ye ðŸŽ‰</h1>
  <p style="color: rgba(255,255,255,0.9); font-weight:500; margin-top:12px;">Tap any button to start the celebration âœ¨</p>
</div>
<!-- MAIN CONTENT -->
<h1>ðŸ’– Happy Birthday My Love ðŸ’–</h1>
<h2>To my dearest <span style="color:#fff6d9">Sophia</span> ðŸ’™</h2>
<div class="cake-wrap">
  <svg viewBox="0 0 180 160" width="100%" height="100%">
    <ellipse cx="90" cy="148" rx="66" ry="6" fill="#ffe9f2" opacity="0.8"/>
    <rect x="24" y="80" rx="12" ry="12" width="132" height="44" fill="#ff7aa2"/>
    <path d="M24 80 C40 66, 60 96, 90 80 C120 64, 140 96, 156 80 L156 92 C156 100,24 100,24 92 Z" fill="#fff0f6" opacity="0.95"/>
    <rect x="44" y="48" rx="10" ry="10" width="92" height="40" fill="#ffd2e8"/>
    <rect x="86" y="28" width="8" height="20" rx="2" fill="#fff"/>
    <path d="M90 22 C92 20,94 20,96 22 C98 24,95 26,94 26 C93 26,91 26,90 24 Z" fill="#ffcc4d"/>
    <circle cx="40" cy="40" r="2.6" fill="#fff5f9" opacity="0.6"/>
  </svg>
</div>
<div class="buttons" role="group" aria-label="Birthday wish buttons">
  <button onclick="showMessage('fadeIn')">ðŸ’Œ Wish 1</button>
  <button onclick="showMessage('slideIn')">ðŸ’« Wish 2</button>
  <button onclick="showMessage('zoomIn')">ðŸŒ¹ Wish 3</button>
  <button onclick="showMessage('bounceIn')">ðŸŽ‡ Wish 4</button>
  <button onclick="showMessage('glowText')">ðŸ’– Wish 5</button>
</div>
<div id="message-box"><span class="typed"></span></div>
<audio id="music" preload="auto" loop></audio>
<script>
const messages = [
  "ðŸ’Œ My love, you are my sunshine and my forever reason to smile.",
  "ðŸ’« Ammu luv u nanna mich u ra.",
  "ðŸŒ¹ You're not just my love â€” you're my life, my dream, my everything. Wishing you endless happiness!",
  "ðŸŽ‡ You light up my world brighter than all the stars. May your birthday shine just as beautifully!",
  "ðŸ’– Forever and always, I love you more than words could ever express. Happy Birthday, my heart! ðŸ’ž"
];

window.addEventListener("load", function() {
  // GSAP entry animations
  gsap.to("h1", { duration: 1.5, opacity:1, y:0, scale:1, skewY:0, ease:'bounce' });
  gsap.to("h2", { duration: 1.25, opacity:1, y:0, scale:1, skewY:0, delay: .7, ease:"power3.out" });
  gsap.to(".cake-wrap", { duration:1.1, opacity:1, y:-10, scale:1.05, rotate:-2, ease:"back.out(2)", delay:.7 });

  // Stagger buttons
  gsap.to(".buttons", { opacity:1, delay:1.3, duration:.9 });
  gsap.to(".buttons button", {
    opacity: 1, scale:1, y:0,
    stagger: 0.18, delay:1.45, duration:1.25,
    ease:"back.out(2)",
  });

  // Sparkles & Petals & Balloons
  for(let i=0; i<36; i++){
    let s = document.createElement("div");
    s.className = "sparkle";
    s.style.left = Math.random()*100+"vw";
    s.style.top = Math.random()*100+"vh";
    s.style.opacity = (0.55+Math.random()*0.3);
    s.style.animationDelay = (Math.random()*3.5)+"s";
    document.body.appendChild(s);
  }
  const petalColors = ['#ffd1e8','#ffb3d1','#ffc9e6','#ffdbe9','#ffe6f2','#ffb6c1'];
  for(let i=0;i<26;i++){
    let p = document.createElement('div');
    p.className = 'petal';
    p.style.left = Math.random()*100+'vw';
    p.style.top = (-10-Math.random()*18)+'vh';
    p.style.background = petalColors[Math.floor(Math.random()*petalColors.length)];
    p.style.animationDelay = (Math.random()*9)+'s';
    p.style.transform = 'rotate('+(Math.random()*360)+'deg)';
    document.body.appendChild(p);
  }
  const balloonColors = ['#ff6b6b','#ffd93d','#72e0a0','#7ac7ff','#d39bff'];
  for(let i=0;i<8;i++){
    let b = document.createElement("div");
    b.className = "balloon";
    b.style.left = Math.random()*88+'vw';
    b.style.bottom = (-12-Math.random()*30)+'vh';
    b.style.background = balloonColors[Math.floor(Math.random()*balloonColors.length)];
    b.style.animationDuration = (11+Math.random()*7)+'s';
    document.body.appendChild(b);
  }
  setTimeout(()=>{ document.getElementById("intro")?.style.setProperty('pointer-events','none'); }, 5200);
});

function typeText(targetNode, text, speed=22, cb){
  targetNode.innerHTML = '';
  let words = text.split(" "), i=0;
  function typeNext(){
    if(i < words.length){
      let span = document.createElement("span");
      span.className = "msg-gradient";
      span.textContent = words[i] + " ";
      targetNode.appendChild(span);
      gsap.fromTo(span, {opacity:0, y:18}, {opacity:1, y:0, duration:.6, ease:"back.out(4)"});
      i++;
      setTimeout(typeNext, speed*7);
    } else if(cb){ cb(); }
  }
  typeNext();
}

function showMessage(anim){
  const box=document.getElementById('message-box');
  const typedSpan=box.querySelector('.typed');
  const message=messages[Math.floor(Math.random()*messages.length)];
  gsap.to(box, { opacity:0, scale:.85, duration:.28, onComplete:()=>{
    typeText(typedSpan, message, 28);
    if(anim==='fadeIn') gsap.to(box, { opacity:1, y:0, scale:1, duration:.62, ease:"power2.out" });
    else if(anim==='slideIn') gsap.fromTo(box, {x:40, opacity:0}, {x:0, opacity:1, scale:1, duration:.7, ease:"circ.out"});
    else if(anim==='zoomIn') gsap.fromTo(box, {scale: .85, opacity:0}, {scale:1, opacity:1, duration:.6, ease:"expo.out"});
    else if(anim==='bounceIn') gsap.fromTo(box, {y:-20,opacity:0},{y:0, opacity:1, duration:.6, ease:"bounce"});
    else if(anim==='glowText'){
      let glow=document.createElement("div");
      glow.style.position='fixed'; glow.style.top=0; glow.style.left=0; glow.style.width='100vw'; glow.style.height='100vh';
      glow.style.background='radial-gradient(circle at 56% 40%,rgba(255,255,255,.1) 20%,transparent 70%)';
      glow.style.zIndex=12; glow.style.opacity=0;
      document.body.appendChild(glow);
      gsap.fromTo(glow,{opacity:0},{opacity:1,duration:.34,repeat:1,yoyo:true,onComplete:()=>glow.remove()});
      gsap.to(box,{opacity:1,scale:1, duration:.62, ease:'power1.out'});
    }
  }});

  // Celebration blasts â€“ beautiful curved confetti + hearts
  const colors = ['#ff4081','#ffeb3b','#00e5ff','#76ff03','#ff6f00','#d500f9','#ffd1e6','#ff9a9e','#fcb4ff','#ffc822'];
  for(let i=0; i<64; i++){
    let blast = document.createElement("div");
    blast.className = "blast";
    blast.style.background = colors[Math.floor(Math.random()*colors.length)];
    let angle = Math.random()*Math.PI*2;
    let dist = 90+Math.random()*300;
    let curve = 28 + Math.random()*60;
    let x = Math.cos(angle)*dist+curve+'px';
    let y = Math.sin(angle)*dist-curve+'px';
    blast.style.setProperty('--x', x);
    blast.style.setProperty('--y', y);
    blast.style.left = (window.innerWidth/2)+'px';
    blast.style.top = (window.innerHeight/2.2)+'px';
    document.body.appendChild(blast);
    setTimeout(()=>blast.remove(),1800);
  }
  for(let k=0;k<7;k++){
    let heart = document.createElement("div");
    heart.className = "heart";
    heart.textContent = ['ðŸ’–','ðŸ’˜','ðŸ’','ðŸ’•'][Math.floor(Math.random()*4)];
    heart.style.left = (16 + Math.random()*68) + "vw";
    heart.style.top = (44 + Math.random()*38) + "vh";
    heart.style.fontSize = (18 + Math.random()*18) + "px";
    heart.style.animationDuration = (5 + Math.random()*3) + "s";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(), 7000);
  }
}

// Accessibility: reduced motion disables all key animations
(function(){
  const m=window.matchMedia('(prefers-reduced-motion: reduce)');
  if(m.matches){
    document.querySelectorAll('.petal,.sparkle,.blast,.balloon,.heart').forEach(el=>{el.style.animation="none";});
    document.getElementById('intro')?.style.setProperty('animation','none');
  }
})();
</script>
</body>
</html>